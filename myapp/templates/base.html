<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}MoonWalk Threads{% endblock %}</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Load static files -->
    {% load static %}

    <!-- Link to your custom CSS file -->
    <link rel="stylesheet" href="{% static 'css/homestyles.css' %}">
    <link rel="stylesheet" href="{% static 'css/products.css' %}">
    <link rel="stylesheet" href="{% static 'css/footer.css' %}">
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
    <link rel="stylesheet" href="{% static 'css/eventstyles.css' %}">

    <script src="https://kit.fontawesome.com/34f0afb215.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Edu+AU+VIC+WA+NT+Dots:wght@400..700&family=Old+Standard+TT:ital,wght@0,400;0,700;1,400&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    
</head>
<body>
    <header>
        <div class="brand-header">
            <img src="{% static 'images/logo.png' %}" alt="MoonWalk Threads Logo" class="brand-logo">
        </div>
    </header>
    <!-- NavBar -->
    <div class="navbar">
        <ul class="links">
            <li><a href="{% url 'home' %}">Home</a></li>
            <li><a href="{% url 'about' %}">About</a></li>
            <li><a href="{% url 'contact' %}">Contact</a></li>
        </ul>
        <div class="toggle_btn">
            <i class="fa-solid fa-bars"></i>
        </div>
        <a href="{% url 'cart' %}" class="cart_btn">
            <i class="fa-solid fa-cart-shopping"></i>
        </a>
        <div class="profile_btn open_login">
            <i class="fa-solid fa-user"></i>
        </div>
    </div>
    <div class="dropdown">
        <li><a href="{% url 'home' %}">Home</a></li>
        <li><a href="{% url 'about' %}">About</a></li>
        <li><a href="{% url 'contact' %}">Contact</a></li>
        <li><a href="#" class="action_btn open_login">Login</a></li>
    </div>
    <!-- The Login Popup -->
    <div id="login-modal" class="login-modal">
        <div class="login-content">
        <span class="login-x login-close">&times;</span>
        <form id="login-form">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" required>
    
            <label for="password">Password</label>
            <input type="password" id="password" name="password" required>
    
            <button type="submit" class="login-btn" id="login-button">Log In</button>

            <ul id="locations-list"></ul>
            
            <div class="forgot-create-container">
                <a href="#" class="forgot-password">Forgot Password</a>
                <a href="#" class="create-account open_signup">Create Account</a>
            </div>

            <!-- Placeholder for the Google Sign-In button -->
            <div id="g_id_onload"
                data-client_id="967536116046-niqbv6jvmqddk43u38pmhq6caqmohlur.apps.googleusercontent.com"
                data-callback="handleCredentialResponse">
            </div>

            <div class="g_id_signin"
                data-type="standard"
                data-size="large"
                data-theme="outline"
                data-text="sign_in_with"
                data-shape="rectangular"
                data-logo_alignment="left">
            </div>

        </form>
        </div>
    </div>
     <!-- The Create Account Popup -->
    <div id="signup-modal" class="signup-modal">
        <div class="signup-content login-content">
            <span class="login-x signup-close">&times;</span>
            <form id="signup-form">
                <label for="email">Email</label>
                <input type="email" id="signup-email" name="email" required>

                <div class = "name-row-container">
                    <div class = "name-container">
                        <label for="first-name">First Name</label>
                        <input type="first-name" id="first-name" name="first-name" required>
                    </div>
                    <div class = "name-container">
                        <label for="last-name">Last Name</label>
                        <input type="last-name" id="last-name" name="last-name" required>
                    </div>
                </div>
               
                <label for="password">Password</label>
                <input type="password" id="signup-password" name="password" required>

                <label for="password">Confirm Password</label>
                <input type="password" id="confirm-password" name="password" required>

                <label for="phone">(Optional) Phone Number</label>
                <input type="tel" id="signup-phone" name="phone" >

                <div class="checkbox-container">
                    <label class="checkbox-label"><input type="checkbox" id="text-checkbox"> Would you like to receive updates via text message?</label><br>
                    <label class="checkbox-label"><input type="checkbox" id="email-checkbox"> Would you like to receive updates via email?</label><br>
                    <label class="checkbox-label"><input type="checkbox" id="Agreement-checkbox"> Do you agree to the <a href="#" class="terms-link">Terms of Service</a></label><br>
                </div>
                <button type="submit" class="create-account-btn login-btn">Create Account</button>
            </form>
            </div>

    </div>

    <script>
        $(document).ready(function(){
            $('#login-button').on('click', function(){
                $.ajax({
                    url: "{% url 'listLocations' %}",
                    method: "GET",
                    success: function(response) {
                        if (response.status === "success") {
                            $('#locations-list').empty();
                            response.locations.forEach(function(location) {
                                $('locations-list').append("<li>${location.name} - ${location.id}</li>")
                            });
                        } else {
                            alert("Error fetching locations: " + response.message);
                        }
                    },
                    error: function(xhr, status, error) {
                        alert("An error occurred: " + error);
                    }
                });
            });
        });
    </script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script src="{% static 'scripts/login-script.js' %}"></script>

    {% block content %}
    {% endblock %}

    <footer>
        <p id="header">SIGN UP FOR MORE</p>
        <label for="phoneNum"></label>
        <label for="emailAddress"></label>

        <input type="text" id="emailAddress" value='Your email address' autocomplete="on">
        <button type="button">SUBSCRIBE</button>
        
        <input type="text" id="phoneNum" value="Your phone number"
            onclick="document.getElementById('phoneNum').value=''">
        <button type="button">SUBSCRIBE</button>

        <div class="instaIcon">
        <a href="https://www.instagram.com/moonwalkthreads/?hl=en">
            <i class="fa-brands fa-instagram fa-2xl"></i>
        </a>
        </div>

        <ul>
            {% for location in locations %}
                <li>{{location.name}} - {{location.id}}</li>
            {% endfor %}
        </ul>

        <hr id="footerLine">
        <div class="littleThings">
            <div>
                <small>Privacy Policy</small>
                <small>Terms & Conditions</small>
                <small>Contact Us</small>
            </div>
            <small id="bottomLine">Copyright Â© 2024 MoonWalk Threads - All Rights Reserved.</small>
        </div>

    </footer>

    <script>
        const toggleBtn = document.querySelector('.toggle_btn')
        const toggleBtnIcon = document.querySelector('.toggle_btn i')
        const dropDownMenu = document.querySelector('.dropdown')

        toggleBtn.onclick = function () {
            dropDownMenu.classList.toggle('open')
        }
    </script>

</body>
</html>
